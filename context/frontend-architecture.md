# Frontend Architecture

이 문서는 Flutter로 구현된 프론트엔드 애플리케이션의 아키텍처, 특히 반응형 레이아웃과 네비게이션 구조를 설명합니다.

---

## 1. 핵심 아키텍처: 반응형 레이아웃

앱의 최상위 레이아웃은 화면 너비에 따라 동적으로 변경되는 **반응형 구조**를 채택하고 있습니다. 화면 너비 `900px`를 기준으로 모바일과 데스크톱 UI가 분기됩니다.

- **모바일 레이아웃 (`< 900px`):** 전통적인 `Scaffold`와 `BottomNavigationBar`를 사용한 익숙한 모바일 UI를 제공합니다.
- **데스크톱 레이아웃 (`>= 900px`):** 화면 좌측에 고정된 `GlobalSidebar`를 통해 주요 메뉴에 접근하는 다중 패널(multi-pane) UI를 제공합니다.

이러한 분기 처리는 앱의 진입점인 `MainNavScaffold` 위젯에서 이루어집니다.

---

## 2. 주요 네비게이션 위젯

### 2.1. `MainNavScaffold` (최상위 레이아웃 위젯)

로그인 후 사용자가 마주하는 첫 화면으로, 앱의 전체적인 골격을 담당합니다.

- **역할:** 화면 너비를 감지하여 모바일 또는 데스크톱 레이아웃을 렌더링합니다.
- **구조 (데스크톱):**
  ```
  Scaffold
  └── Row
      ├── GlobalSidebar (고정 너비 60px)
      └── Expanded (메인 컨텐츠 영역)
          ├── AppBar (상단바)
          └── IndexedStack (실제 페이지)
  ```
- **구조 (모바일):**
  ```
  Scaffold
  ├── AppBar (상단바)
  ├── IndexedStack (실제 페이지)
  └── BottomNavigationBar (하단 탭)
  ```

### 2.2. `GlobalSidebar` (데스크톱 전용)

데스크톱 레이아웃의 핵심 네비게이션 요소로, 화면 좌측에 항상 고정되어 있습니다.

- **너비:** `60px`
- **기능:**
    - **메인 메뉴:** 아이콘 버튼을 통해 `홈`, `워크스페이스`, `나의 활동`, `프로필` 탭으로 즉시 전환합니다.
    - **로그아웃:** 사이드바 하단에 위치한 버튼을 통해 로그아웃 기능을 수행합니다.
- **상태 관리:** `NavProvider`를 통해 현재 선택된 탭의 상태를 관리하며, 이는 모바일의 `BottomNavigationBar`와 상태를 공유합니다.

---

## 3. 워크스페이스 화면 구조 (`WorkspaceScreen`)

워크스페이스는 데스크톱 환경에서 2단 사이드바 구조를 통해 정보 밀도를 높입니다.

- **모바일:** 일반적인 전체 화면으로 표시됩니다.
- **데스크톱:** `GlobalSidebar`가 있는 상태에서, 추가로 `WorkspaceSidebar`가 좌측에 표시되는 **3단 레이아웃**을 형성합니다.
  ```
  Row
  ├── GlobalSidebar (60px)
  └── Expanded
      └── Row
          ├── WorkspaceSidebar (200px)
          └── Expanded (채널, 게시글 등 메인 컨텐츠)
  ```
  - **`WorkspaceSidebar`:** 현재 진입한 워크스페이스의 채널 목록, 관리 메뉴 등을 제공합니다.

이 구조를 통해 사용자는 앱의 어느 곳에 있든 메인 네비게이션(GlobalSidebar)에 접근할 수 있으며, 워크스페이스 내에서는 채널 간 빠른 이동이 가능합니다.
