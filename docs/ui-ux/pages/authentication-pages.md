# 인증 페이지 (Authentication Pages)

## 개요

사용자의 첫 진입점이자 가장 중요한 전환 지점인 인증 페이지들의 기능적 요구사항과 사용자 경험을 정의합니다.

## 로그인 페이지 (LoginScreen)

### 기능 목적
- 기존 사용자의 빠르고 안전한 로그인
- Google OAuth를 통한 간편 인증
- 신규 사용자를 회원가입으로 자연스럽게 유도

### 핵심 사용자 시나리오
1. **재방문 사용자**: "빠르게 로그인하고 내 그룹 활동 확인"
2. **신규 사용자**: "회원가입 없이 먼저 서비스 체험"
3. **오랜만 방문**: "내 계정 정보 기억나지 않음"

### 화면 구성 요소

#### 1. 메인 로그인 영역
**Google 로그인 버튼**
- 위치: 화면 중앙, 가장 눈에 띄는 위치
- 기능: Google OAuth 인증 시작
- 시각적 우선순위: Primary action으로 강조
- 상태 표시: 로딩 중 스피너 및 비활성화

**로그인 상태 피드백**
- 성공: 즉시 메인 화면으로 전환
- 실패: 명확한 오류 메시지와 재시도 옵션
- 네트워크 오류: 연결 상태 확인 안내

#### 2. 대안 액션 영역
**회원가입 유도**
- 위치: 로그인 버튼 하단
- 메시지: "처음이신가요? 회원가입하고 그룹 찾기"
- 기능: 회원가입 페이지로 전환

### 사용자 경험 원칙

#### 신뢰성 확보
- Google 브랜딩을 명확히 표시하여 보안성 강조
- 로딩 상태를 시각적으로 명확히 표현
- 오류 발생 시 사용자 친화적 메시지 제공

#### 진입 장벽 최소화
- 별도 ID/비밀번호 입력 없음
- 원클릭 로그인 지원
- 모바일에서 앱 전환 최소화

#### 새 사용자 배려
- 로그인 실패 시 회원가입 제안
- 서비스 소개 및 가치 제안 간접 노출

### 반응형 동작

#### 모바일 (< 768px)
- 세로 중심 레이아웃
- 터치 친화적 버튼 크기 (최소 44px)
- 키보드 표시 시 레이아웃 조정

#### 데스크톱 (≥ 900px)
- 좌우 분할 레이아웃 고려
- 왼쪽: 서비스 소개 이미지/슬라이드
- 오른쪽: 로그인 폼

### 에러 처리 시나리오

#### 일반적 오류
1. **네트워크 연결 실패**
   - 메시지: "인터넷 연결을 확인해주세요"
   - 액션: 재시도 버튼

2. **Google 인증 취소**
   - 메시지: "로그인이 취소되었습니다"
   - 액션: 다시 시도 유도

3. **서버 오류**
   - 메시지: "잠시 후 다시 시도해주세요"
   - 액션: 고객센터 연락처 제공

### 성능 요구사항
- 페이지 로드: 2초 이내
- Google OAuth 응답: 5초 이내
- 로그인 완료 후 전환: 1초 이내

---

## 회원가입 페이지 (RegisterScreen)

### 기능 목적
- 신규 사용자의 온보딩 완료
- 개인 프로필 설정으로 개인화 경험 시작
- 대학 정보 수집으로 적절한 그룹 추천 준비

### 핵심 사용자 시나리오
1. **대학생**: "내 학과 정보 입력하고 관련 그룹 찾기"
2. **교직원**: "교직원 인증 받고 관리 권한 활용"
3. **빠른 가입**: "최소 정보만 입력하고 나중에 보완"

### 단계별 프로세스

#### 1단계: 기본 정보 입력
**필수 정보**
- 이름 (실명, 최대 50자)
- 닉네임 (표시명, 최대 50자, 중복 확인)
- 이메일 (Google 계정에서 자동 가져오기)

**선택 정보**
- 프로필 이미지 (기본 아바타 제공)
- 자기소개 (최대 500자)

#### 2단계: 대학 정보 입력
**교육 기관 정보**
- 대학교명 (자동완성 지원)
- 단과대학/학과 (계층적 선택)
- 학번 (선택사항, 학생만)
- 학년 (선택사항, 학생만)

**사용자 유형 선택**
- 학생: 일반 멤버 권한
- 교직원: 추가 인증 후 관리 권한
- 기타: 제한적 권한

#### 3단계: 이메일 인증
**학교 이메일 인증 (선택)**
- 목적: 소속 대학 인증 및 추가 권한 부여
- 프로세스: 인증 코드 발송 → 코드 입력 → 인증 완료
- 혜택: 교내 공식 그룹 가입 우선권

### 화면 구성 요소

#### 진행률 표시기
- 위치: 화면 상단
- 형태: 3단계 프로그레스 바
- 기능: 현재 위치 및 남은 단계 표시

#### 폼 검증 및 피드백
**실시간 검증**
- 닉네임 중복 확인 (타이핑 완료 후 500ms 후)
- 이메일 형식 검증
- 필수 필드 누락 표시

**에러 메시지 스타일**
- 위치: 해당 입력 필드 바로 아래
- 색상: 오류 색상 (#F44336)
- 톤: 친화적이고 구체적인 해결책 제시

#### 건너뛰기 옵션
- 위치: 각 단계별 하단
- 기능: 선택사항 단계 건너뛰기
- 제한: 필수 정보는 건너뛰기 불가

### 데이터 수집 전략

#### 필수 vs 선택 구분
**필수 데이터 최소화**
- 이름, 닉네임, 이메일만 필수
- 나머지는 모두 선택사항으로 처리
- 나중에 프로필에서 보완 가능

**점진적 정보 수집**
- 1차: 계정 생성에 필요한 최소 정보
- 2차: 그룹 추천을 위한 대학 정보
- 3차: 서비스 이용 중 자연스럽게 추가 수집

#### 개인정보 보호
- 수집 목적 명시
- 필수/선택 정보 구분 표시
- 언제든 수정/삭제 가능함 안내

### 사용자 경험 최적화

#### 자동완성 및 추천
- 대학교명: 한국의 모든 대학교 DB 기반
- 학과명: 선택한 대학교의 실제 학과 목록
- 이메일 도메인: 대학교별 이메일 도메인 자동 추천

#### 모바일 최적화
- 키보드 타입 최적화 (이메일, 숫자 등)
- 입력 필드 간 자연스러운 전환
- 한 화면에 너무 많은 필드 배치 금지

#### 중단점 대응
- 진행 상황 자동 저장
- 브라우저 새로고침 시 이어서 진행
- 로그인 후 미완료 가입 프로세스 복원

### 성공 지표
- 가입 완료율: 80% 이상
- 1단계 → 2단계 전환율: 90% 이상
- 2단계 → 3단계 전환율: 70% 이상
- 가입 후 7일 내 재방문율: 60% 이상

---

## 스플래시 화면 (SplashScreen)

### 기능 목적
- 앱 초기화 및 사용자 인증 상태 확인
- 적절한 첫 화면으로 자동 라우팅
- 브랜드 인상 및 로딩 상태 표시

### 동작 흐름
1. **앱 시작** → 스플래시 화면 표시
2. **인증 상태 확인** → AuthProvider 상태 체크
3. **라우팅 결정**:
   - `authenticated` → 메인 홈 화면
   - `unauthenticated` → 로그인 화면
   - `needsOnboarding` → 회원가입 화면

### 화면 구성
- 중앙: 앱 로고 또는 브랜드명
- 하단: 로딩 스피너
- 최대 표시 시간: 3초 (그 이후 강제 전환)

### 사용자 경험
- 매끄러운 전환 애니메이션
- 브랜드 일관성 유지
- 로딩 상태 명확한 시각적 표현

---

## 관련 구현 파일

### 주요 컴포넌트
- `frontend/lib/presentation/screens/auth/login_screen.dart`
- `frontend/lib/presentation/screens/auth/register_screen.dart`
- `frontend/lib/main.dart` (SplashScreen)

### 관련 Provider
- `AuthProvider`: 인증 상태 관리
- `UIStateProvider`: UI 상태 관리

### 관련 문서
- [사용자 경험 가이드](../user-experience-guide.md)
- [반응형 레이아웃](../responsive-layout.md)
- [에러 처리 가이드](../error-handling.md)