# 폼 및 상호작용 컴포넌트 (Form and Interaction Components)

## 개요

사용자 입력과 상호작용을 담당하는 컴포넌트들의 기능 요구사항과 사용자 경험을 정의합니다.

## 알림 및 상태 컴포넌트

### 교수 승인 대기 배너 (ProfessorPendingBanner)

#### 기능 목적
- 교수 계정 인증 대기 상태 알림
- 인증 과정 안내 및 진행 상황 표시
- 사용자 행동 유도 (필요 서류 제출 등)

#### 표시 조건
- 사용자 유형이 "교수"
- 인증 상태가 "대기 중" (PENDING)
- 로그인된 모든 화면에서 표시

#### 시각적 디자인
```
┌─────────────────────────────────────────────────────────┐
│ ⚠️  교수 계정 인증이 진행 중입니다                       │
│    인증 완료까지 최대 3일이 소요됩니다. [자세히 보기] │
└─────────────────────────────────────────────────────────┘
```

**색상 및 스타일**
- 배경색: 연한 노란색 (#FEF3CD)
- 테두리: 주의 색상 (#F59E0B)
- 아이콘: 경고 표시 (⚠️)
- 텍스트: 진한 갈색 (#92400E)

#### 상호작용 요소
**자세히 보기 버튼**
- 클릭 시 인증 상태 상세 모달 표시
- 필요 서류 및 제출 방법 안내
- 인증 진행 단계 표시

**닫기 버튼** (선택사항)
- 임시로 배너 숨김 (세션 동안만)
- 다음 로그인 시 다시 표시
- 완전 무시 옵션 없음 (중요 알림이므로)

#### 애니메이션
**등장 애니메이션**
- 상단에서 부드럽게 슬라이드 다운
- 지속 시간: 500ms
- 이징: ease-out

**알림 효과**
- 첫 로그인 시 미묘한 펄스 효과
- 3초 후 일반 상태로 전환

### 토스트 알림 시스템

#### 기능 목적
- 사용자 액션 결과 즉시 피드백
- 오류 및 성공 상태 표시
- 시스템 상태 변화 알림

#### 알림 유형별 디자인

**성공 알림**
```
✅ 게시글이 성공적으로 작성되었습니다.
```
- 배경색: 연한 녹색 (#D1FAE5)
- 아이콘: 체크 마크 (✅)
- 자동 사라짐: 3초

**오류 알림**
```
❌ 파일 업로드에 실패했습니다. 다시 시도해주세요.
```
- 배경색: 연한 빨간색 (#FEE2E2)
- 아이콘: X 마크 (❌)
- 자동 사라짐: 5초 (길게)

**정보 알림**
```
ℹ️ 새로운 멤버가 그룹에 가입했습니다.
```
- 배경색: 연한 파란색 (#DBEAFE)
- 아이콘: 정보 마크 (ℹ️)
- 자동 사라짐: 4초

**경고 알림**
```
⚠️ 인터넷 연결이 불안정합니다.
```
- 배경색: 연한 노란색 (#FEF3CD)
- 아이콘: 경고 마크 (⚠️)
- 수동 닫기 (중요한 정보)

#### 위치 및 스택 관리
**표시 위치**
- 모바일: 하단에서 80px 위
- 데스크톱: 우상단에서 20px 아래

**여러 알림 처리**
- 최대 3개까지 동시 표시
- 새 알림이 오면 가장 오래된 것부터 제거
- 스택 형태로 쌓임 (최신이 위쪽)

#### 접근성
- ARIA live region 사용
- 스크린 리더 자동 읽기
- 키보드로 닫기 가능 (Esc)

---

## 모달 및 오버레이

### 확인 대화상자 (Confirmation Dialog)

#### 기능 목적
- 중요한 액션 전 사용자 확인
- 실수 방지 및 의도 명확화
- 되돌릴 수 없는 작업 경고

#### 사용 시나리오
**그룹 탈퇴**
```
┌─────────────────────────────────────┐
│              그룹 탈퇴               │
├─────────────────────────────────────┤
│ 정말로 이 그룹에서 나가시겠습니까?    │
│                                     │
│ • 모든 메시지와 파일에 접근할 수     │
│   없게 됩니다                       │
│ • 다시 가입하려면 승인이 필요합니다   │
│                                     │
│          [취소]    [나가기]         │
└─────────────────────────────────────┘
```

**게시글 삭제**
```
┌─────────────────────────────────────┐
│             게시글 삭제              │
├─────────────────────────────────────┤
│ 이 게시글을 삭제하시겠습니까?        │
│                                     │
│ 삭제된 게시글은 복구할 수 없습니다.   │
│                                     │
│          [취소]    [삭제]           │
└─────────────────────────────────────┘
```

#### 버튼 색상 규칙
- **취소**: 기본 회색 (#6B7280)
- **일반 확인**: 기본 파란색 (#2563EB)
- **위험 행동**: 빨간색 (#EF4444)

#### 키보드 단축키
- Enter: 기본 액션 (확인)
- Esc: 취소
- Tab: 버튼 간 이동

### 정보 모달 (Info Modal)

#### 멤버 프로필 모달
```
┌─────────────────────────────────────┐
│ [프로필 이미지]  홍길동 님           │
│                  컴퓨터과학과 3학년   │
├─────────────────────────────────────┤
│ 역할: 그룹 관리자                    │
│ 가입일: 2024년 3월 15일              │
│ 최근 활동: 2시간 전                  │
│                                     │
│ 자기소개:                           │
│ 안녕하세요! 컴퓨터과학과 학생입니다. │
│                                     │
│      [메시지 보내기]  [닫기]         │
└─────────────────────────────────────┘
```

#### 그룹 정보 모달
- 그룹 설명 상세 보기
- 멤버 목록 및 통계
- 가입 신청 또는 탈퇴 옵션

#### 공지사항 상세 모달
- 전체 공지 내용
- 중요 정보 강조 표시
- 읽음 확인 체크박스

### 액션 시트 (Action Sheet)

#### 모바일 컨텍스트 메뉴
```
┌─────────────────────────────────────┐
│               작업 선택              │
├─────────────────────────────────────┤
│ 📝 게시글 수정                      │
│ 📌 게시글 고정                      │
│ 🔗 링크 복사                       │
│ 📤 공유하기                        │
│ ───────────────────────────────────  │
│ 🗑️ 삭제하기                        │
│ ───────────────────────────────────  │
│              취소                   │
└─────────────────────────────────────┘
```

#### 표시 위치
- 모바일: 화면 하단에서 슬라이드 업
- 태블릿: 터치한 위치 근처 팝오버
- 데스크톱: 마우스 위치 컨텍스트 메뉴

#### 애니메이션
- 등장: 하단에서 스프링 애니메이션
- 사라짐: 하단으로 슬라이드 다운
- 배경 딤: 0에서 0.5 투명도로 페이드

---

## 입력 컴포넌트

### 검색 입력 필드

#### 기본 구조
```
┌─────────────────────────────────────┐
│ 🔍 [검색어 입력____________] ❌      │
└─────────────────────────────────────┘
```

#### 상태별 변화
**기본 상태**
- 플레이스홀더: "검색어를 입력하세요"
- 테두리: 연한 회색
- 검색 아이콘: 왼쪽 고정

**포커스 상태**
- 테두리: 기본 색상 (#2563EB)
- 그림자: 기본 색상 글로우
- 플레이스홀더 페이드 아웃

**입력 중 상태**
- 지우기 버튼 (❌) 표시
- 실시간 검색 결과 드롭다운
- 자동완성 제안

#### 자동완성 기능
**멤버 검색**
- @멘션 입력 시 활성화
- 그룹 멤버 목록 필터링
- 프로필 이미지 + 이름 표시

**채널 검색**
- #채널 입력 시 활성화
- 접근 가능한 채널만 표시
- 채널 타입 아이콘 표시

**과거 검색어**
- 최근 5개 검색어 저장
- 드롭다운으로 빠른 선택
- 개별 삭제 가능

### 파일 업로드 컴포넌트

#### 드래그 앤 드롭 영역
```
┌─────────────────────────────────────┐
│        📁 파일을 여기로 드래그       │
│         또는 클릭하여 선택          │
│                                     │
│    지원 형식: 이미지, 문서, 압축파일  │
│      최대 크기: 100MB              │
└─────────────────────────────────────┘
```

#### 상태별 시각 변화
**기본 상태**
- 점선 테두리
- 연한 회색 배경
- 업로드 아이콘

**드래그 오버**
- 실선 테두리 (파란색)
- 파란색 배경 (투명도 10%)
- 아이콘 강조

**업로드 중**
- 프로그레스 바 표시
- 파일명 및 진행률
- 취소 버튼

#### 파일 미리보기
**이미지 파일**
- 썸네일 그리드 표시
- 파일명 및 크기 정보
- 개별 제거 버튼

**문서 파일**
- 파일 타입 아이콘
- 파일명 및 크기
- 다운로드 진행률

#### 에러 처리
**파일 크기 초과**
```
❌ 파일 크기가 너무 큽니다 (100MB 초과)
   → 파일을 압축하거나 크기를 줄여주세요
```

**지원하지 않는 형식**
```
❌ 지원하지 않는 파일 형식입니다
   → JPEG, PNG, PDF, DOC 등을 사용해주세요
```

### 태그 입력 컴포넌트

#### 기능 목적
- 그룹 태그 설정
- 관심사 키워드 입력
- 카테고리 분류

#### 시각적 구조
```
┌─────────────────────────────────────┐
│ [Web] [React] [JavaScript] [+____]  │
└─────────────────────────────────────┘
```

#### 태그 관리
**태그 추가**
- Enter 키 또는 쉼표로 구분
- 중복 태그 자동 제거
- 최대 10개 제한

**태그 제거**
- 태그 내 X 버튼 클릭
- Backspace 키로 마지막 태그 제거
- 전체 지우기 옵션

**태그 검증**
- 한글/영문/숫자만 허용
- 최소 2자, 최대 20자
- 특수문자 자동 제거

#### 추천 태그
- 인기 태그 목록 표시
- 클릭으로 빠른 추가
- 그룹 타입별 맞춤 추천

---

## 상호작용 컴포넌트

### 좋아요 버튼

#### 상태별 시각 변화
**좋아요 안 함**
```
🤍 5
```
- 빈 하트 아이콘
- 회색 텍스트
- 호버 시 연한 빨간색

**좋아요 함**
```
❤️ 6
```
- 채워진 하트 아이콘
- 빨간색 강조
- 클릭 시 펄스 애니메이션

#### 애니메이션 효과
**좋아요 액션**
- 하트 크기 확대 (1.2배)
- 0.2초 후 원래 크기로
- 숫자 카운트업 애니메이션

**좋아요 취소**
- 하트 페이드 아웃
- 빈 하트로 교체
- 숫자 카운트다운

#### 접근성
- ARIA 라벨: "좋아요" / "좋아요 취소"
- 키보드 접근 가능
- 스크린 리더 상태 알림

### 멘션 기능

#### 자동완성 트리거
- @ 문자 입력 시 활성화
- 2글자 이상 입력 시 필터링
- ESC 키로 취소

#### 멘션 대상 표시
```
┌─────────────────────────────────────┐
│ @홍길동 (관리자)                    │
│ @김철수 (멤버)                      │
│ @이영희 (스태프)                    │
└─────────────────────────────────────┘
```

#### 멘션된 텍스트 렌더링
- 배경색: 연한 파란색
- 텍스트: 진한 파란색
- 클릭 시 프로필 표시

### 이모지 피커

#### 피커 인터페이스
```
┌─────────────────────────────────────┐
│ 😀 😃 😄 😁 😆 😅 😂 🤣 😊 😇      │
│ 😍 🥰 😘 😗 😙 😚 😋 😛 😝 😜      │
│ 🤪 🤨 🧐 🤓 😎 🤩 🥳 😏 😒 😞      │
│                                     │
│ [최근 사용] [표정] [제스처] [기타]   │
└─────────────────────────────────────┘
```

#### 카테고리 분류
- 최근 사용: 개인화된 이모지
- 표정: 감정 표현 이모지
- 제스처: 손짓 이모지
- 동물: 동물 이모지
- 음식: 음식 이모지
- 기타: 기호, 깃발 등

#### 검색 기능
- 이모지 이름으로 검색
- 한글 키워드 지원
- 실시간 필터링

---

## 테마 및 다크 모드

### 테마 전환 컴포넌트

#### 토글 스위치
```
☀️ ◯━━●━━◯ 🌙
```

#### 상태 관리
- 시스템 설정 따르기
- 라이트 모드 강제
- 다크 모드 강제

#### 색상 변화
**라이트 모드**
- 배경: 흰색 (#FFFFFF)
- 텍스트: 검은색 (#000000)
- 강조: 파란색 (#2563EB)

**다크 모드**
- 배경: 진한 회색 (#1F2937)
- 텍스트: 흰색 (#FFFFFF)
- 강조: 연한 파란색 (#60A5FA)

#### 전환 애니메이션
- 색상 변화: 300ms ease
- 아이콘 교체: 페이드 효과
- 전체 테마 적용: 단계적 변화

---

## 성능 및 최적화

### 렌더링 최적화

#### 메모화 전략
- 불변 props 기반 memo
- 콜백 함수 useCallback
- 복잡한 계산 useMemo

#### 가상화
- 긴 목록 가상 스크롤
- 무한 스크롤 구현
- 메모리 사용량 제한

### 사용자 경험 최적화

#### 로딩 상태 관리
- 스켈레톤 UI 사용
- 점진적 로딩
- 에러 경계 설정

#### 접근성 준수
- WCAG 2.1 AA 기준
- 키보드 네비게이션
- 스크린 리더 지원

#### 국제화 지원
- 텍스트 현지화
- 날짜/시간 형식
- 문화적 색상 고려

---

## 관련 구현 파일

### 알림 컴포넌트
- `frontend/lib/presentation/widgets/professor_pending_banner.dart`
- `frontend/lib/presentation/widgets/toast_notification.dart`

### 모달 컴포넌트
- `frontend/lib/presentation/widgets/confirmation_dialog.dart`
- `frontend/lib/presentation/widgets/info_modal.dart`
- `frontend/lib/presentation/widgets/action_sheet.dart`

### 입력 컴포넌트
- `frontend/lib/presentation/widgets/search_input.dart`
- `frontend/lib/presentation/widgets/file_upload.dart`
- `frontend/lib/presentation/widgets/tag_input.dart`

### 상호작용 컴포넌트
- `frontend/lib/presentation/widgets/like_button.dart`
- `frontend/lib/presentation/widgets/mention_input.dart`
- `frontend/lib/presentation/widgets/emoji_picker.dart`

### 관련 Provider
- `UIStateProvider`: 전반적인 UI 상태
- `ThemeProvider`: 테마 및 다크 모드
- `NotificationProvider`: 알림 관리

### 관련 문서
- [게시글 및 댓글 컴포넌트](post-and-comment-components.md)
- [네비게이션 컴포넌트](navigation-components.md)
- [디자인 시스템](../design-system.md)