# 그룹 워크스페이스 상세 명세

## 1. 개요

**워크스페이스(Workspace)**는 특정 그룹의 멤버들만이 접근할 수 있는 폐쇄적인 온라인 협업 공간입니다. 그룹의 '디지털 클럽하우스'로서, 멤버들은 이곳에서 공지사항을 확인하고, 정보를 공유하며, 일정을 관리하고, 함께 소통합니다. 각 워크스페이스는 소속된 그룹의 성격에 맞게 커스터마이징할 수 있는 모듈식 구조를 가집니다.

## 2. UI/UX 구성 및 레이아웃

워크스페이스는 크게 **3단 구조(Header, Sidebar, Content Area)**의 대시보드 형태로 구성됩니다.

### 2.1. 헤더 (Header)

- **위치**: 화면 최상단.
- **구성 요소**:
    - **그룹명 및 로고**: 현재 워크스페이스의 소속 그룹 이름과 로고가 표시됩니다. 클릭 시 그룹 정보 페이지로 이동할 수 있습니다.
    - **알림(Notification) 아이콘**: 워크스페이스 내의 새 글, 댓글, 초대 등 개인화된 알림을 보여줍니다.
    - **내 프로필/계정 관리 아이콘**: 개인 프로필 수정, 로그아웃 등의 메뉴로 연결됩니다.
    - **워크스페이스 관리 (관리자 전용)**: `ADMIN` 이상의 역할을 가진 사용자에게만 보이는 톱니바퀴 아이콘. 워크스페이스 설정 페이지로 이동합니다.

### 2.2. 사이드바 (Sidebar)

- **위치**: 화면 좌측. (접기/펴기 기능 제공)
- **기능**: 워크스페이스 내의 기능 모듈(위젯) 목록을 보여주는 **메인 네비게이션** 역할을 합니다.
- **동작**: 사이드바에서 특정 메뉴(예: '공지사항')를 클릭하면, 중앙의 **Content Area**에 해당 위젯의 내용이 표시됩니다. 메뉴 순서는 관리자가 변경할 수 있습니다.

### 2.3. 콘텐츠 영역 (Content Area)

- **위치**: 화면 중앙의 가장 넓은 영역.
- **기능**: 사이드바에서 선택된 위젯의 실제 내용이 표시되는 주 공간입니다. (예: 게시판 목록, 캘린더 뷰, 멤버 목록 등)

## 3. 기본 구성 요소 (위젯)

모든 워크스페이스는 기본적으로 다음의 위젯들을 포함합니다.

- **홈/대시보드**: 주요 공지, 최근 게시글, 다가오는 일정 등을 요약해서 보여주는 첫 화면.
- **공지사항 (Board Widget)**: 그룹 관리자가 중요 소식을 전달하는 읽기 중심의 게시판.
- **자유 게시판 (Board Widget)**: 모든 멤버가 자유롭게 글과 댓글을 작성하며 소통하는 공간.
- **일정/캘린더 (Calendar Widget)**: 그룹의 공식 행사, 모임, 마감일 등을 등록하고 공유하는 캘린더.
- **멤버 목록 (Member Widget)**: 워크스페이스에 소속된 모든 멤버의 목록과 역할을 보여주는 페이지.
- **워크스페이스 관리 (Admin Widget)**: `ADMIN` 이상만 접근 가능. 멤버 관리, 위젯 관리, 그룹 정보 수정 등의 기능을 포함.

## 4. 역할 및 권한 (Roles & Permissions)

워크스페이스 내 사용자 권한은 **역할(Role)** 기반으로 엄격하게 통제됩니다.

### 4.1. 역할의 종류

- **`OWNER` (소유자)**:
    - 워크스페이스를 최초로 생성한 사용자. 모든 권한을 가집니다.
    - 워크스페이스를 삭제할 수 있는 유일한 역할입니다.
    - 다른 멤버에게 `ADMIN` 또는 `OWNER` 역할을 부여할 수 있습니다.
- **`ADMIN` (관리자)**:
    - `OWNER`에 의해 임명된 부관리자.
    - 멤버 초대/승인/강퇴, 역할 변경(자신보다 낮은 등급으로), 게시글 관리, 워크스페이스 설정 변경 등 `OWNER`의 권한 대부분을 위임받습니다.
- **`MEMBER` (정회원)**:
    - 정식으로 승인된 그룹의 멤버입니다.
    - 게시판에 글/댓글 작성, 캘린더 조회, 다른 멤버 초대(승인은 관리자가) 등의 활동 권한을 가집니다.
- **`ASSOCIATE_MEMBER` (준회원)**:
    - 가입 승인을 기다리거나, 일부 활동만 허용된 제한적인 멤버입니다.
    - 기본적으로 모든 게시판의 글을 읽기만 가능하며, 쓰기 권한은 없습니다.

### 4.2. 권한 매트릭스

| 기능 | `OWNER` | `ADMIN` | `MEMBER` | `ASSOCIATE_MEMBER` |
| :--- | :---: | :---: | :---: | :---: |
| **콘텐츠 관련** |
| 공지사항 작성/수정 | O | O | X | X |
| 일반 게시글/댓글 작성 | O | O | O | X (읽기만) |
| 자신의 글/댓글 삭제 | O | O | O | X |
| 타인의 글/댓글 삭제 | O | O | X | X |
| **멤버 관리 관련** |
| 멤버 초대 | O | O | O (초대 링크 생성) | X |
| 가입 신청 승인/거절 | O | O | X | X |
| 멤버 강퇴 | O | O | X | X |
| 멤버 역할 변경 | O | O | X | X |
| **워크스페이스 관리** |
| 워크스페이스 정보/디자인 수정 | O | O | X | X |
| 위젯 추가/삭제/순서 변경 | O | O | X | X |
| 워크스페이스 삭제 | O | X | X | X |

## 5. 주요 워크플로우

### 5.1. 멤버 가입 및 승인
1. **(User)** 그룹 탐색 후 '가입 신청' 버튼 클릭.
2. **(System)** 해당 그룹 워크스페이스의 `ADMIN` 이상 역할에게 알림 전송.
3. **(Admin)** '워크스페이스 관리' > '멤버 관리' 탭에서 가입 신청 목록 확인.
4. **(Admin)** 신청자의 프로필 확인 후 '승인' 또는 '거절' 처리.
5. **(System)** 승인 시, 해당 유저는 `ASSOCIATE_MEMBER` 또는 `MEMBER` 역할로 멤버 목록에 추가됨.

### 5.2. 콘텐츠 작성
1. **(Member)** 좌측 사이드바에서 '자유 게시판' 위젯 클릭.
2. **(System)** Content Area에 게시글 목록 표시.
3. **(Member)** '글쓰기' 버튼 클릭.
4. **(System)** 제목, 본문 등을 입력할 수 있는 에디터 화면 표시.
5. **(Member)** 내용 작성 후 '등록' 버튼 클릭.
6. **(System)** 게시글이 목록 최상단에 추가되고, 다른 멤버들에게 알림 전송 가능.

## 6. 데이터 모델 제안

```json
// Workspace Table
{
  "workspaceId": "Long",
  "groupId": "Long", // Foreign Key to Group Table
  "workspaceName": "String",
  "description": "String",
  "coverImageUrl": "String"
}

// WorkspaceMember Table (Junction Table)
{
  "membershipId": "Long",
  "workspaceId": "Long", // Foreign Key
  "userId": "Long", // Foreign Key
  "role": "Enum (OWNER, ADMIN, MEMBER, ASSOCIATE_MEMBER)",
  "joinedAt": "DateTime"
}

// WidgetInstance Table
{
  "widgetInstanceId": "Long",
  "workspaceId": "Long", // Foreign Key
  "widgetType": "Enum (BOARD, CALENDAR, MEMBER_LIST)",
  "displayName": "String", // e.g., "공지사항", "자유 게시판"
  "order": "Integer" // 사이드바에 표시될 순서
}
```
