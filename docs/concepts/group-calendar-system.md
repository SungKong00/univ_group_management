# 그룹 캘린더 시스템 (Group Calendar System)

그룹의 모든 멤버가 공유하는 일정 관리 시스템입니다.

## 개요

그룹 캘린더는 **공식 일정(공지형, 대상 지정형, RSVP형)**과 **비공식 일정**으로 구성되며,
멤버들의 참여 상태를 추적하고 최적 시간을 추천합니다.

## 권한 모델

### 조회 권한
- **모든 그룹 멤버**: 별도 권한 없이 그룹 캘린더 조회 가능

### 생성/수정/삭제 권한

| 일정 유형 | 생성 권한 | 수정/삭제 권한 |
|----------|---------|-------------|
| **공식 일정** | `CALENDAR_MANAGE` | `CALENDAR_MANAGE` |
| **비공식 일정** | 모든 멤버 | 작성자 or `CALENDAR_MANAGE` |

### 권한 통합

`CALENDAR_MANAGE` 권한이 **캘린더 관리 + 장소 관리**를 모두 포함하여 권한 구조 단순화.
([설계 결정사항](../backend/calendar-core-design.md#dd-cal-001-권한-통합-및-단순화))

## 일정 유형 (공식 일정)

### 1. 일반 공지형 (General)
- **용도**: 단순 정보성 일정 (회사 창립일, 워크샵 날짜)
- **특징**: 별도의 멤버 상호작용 없음

### 2. 대상 지정형 (Targeted)
- **용도**: 특정 멤버만 초대하는 일정
- **동작**:
  1. 조건(예: 1학년, 운영진) 지정 → 일정 생성 시점에 멤버 목록 확정
  2. 초대받은 멤버들이 **'참여(ACCEPTED)' 또는 '불참(DECLINED)'** 의사 표시
  3. 불참 선택 시 미리 정의된 사유 선택 또는 직접 입력

### 3. 참여 신청형 (RSVP)
- **용도**: 참여 인원 제한 필요 (워크샵 20명 모집)
- **동작**:
  1. 최대 참여자 수 설정
  2. 멤버가 '참여 신청' → 선착순 처리
  3. 현황 도달 시 신청 버튼 자동 비활성화

## 비공식 일정

- **특징**: 모든 멤버가 자유롭게 생성 가능
- **관리**: 작성자 또는 `CALENDAR_MANAGE` 권한자만 수정/삭제 가능
- **기능**: 일반 공지형과 동일 (기본 정보만 저장)

## 반복 일정

### 생성 UI
1. **시작일**: DatePicker로 첫 번째 발생 날짜 선택
2. **종료일**: DatePicker로 마지막 발생 날짜 선택
3. **반복 패턴**:
   - "매일" 옵션 → 매일 인스턴스 생성
   - "요일 선택" 옵션 → 체크박스로 월/화/수/목/금/토/일 선택

### 저장 방식
백엔드는 선택된 범위와 패턴에 따라 **개별 인스턴스를 명시적으로 생성**하여 저장합니다.
([설계 결정사항](../backend/calendar-core-design.md#dd-cal-002-반복-일정-저장-방식))

예시: 2025-11-01 ~ 2025-11-30, 매주 월/수/금 선택 → 13개 개별 레코드 생성

### 예외 처리
반복 일정 중 특정 날짜만 수정되는 경우 (예: 이번 주만 회의실 변경):
- 원본 반복 패턴은 유지
- 예외 데이터만 별도 저장
- 수정 시 "이 일정만" vs "반복 전체" 선택 가능

## 편의 기능

### 최적 시간 추천
대상자들의 **시간표 + 기존 참여 일정**을 분석하여 충돌이 가장 적은 시간대를 슬롯별로 추천합니다.
사용자는 분석 대상을 토글하여 추천 정확도 조절 가능.

### 채널 연동
일정 생성 시 특정 채널을 선택하면:
1. 해당 채널에 일정을 설명하는 게시글 자동 생성
2. 게시글에 일정 상세정보(시간, 장소) + 액션 버튼([참여 신청], [불참 의사]) 포함

## 실제 사용 흐름

```
운영진 → "11월 20일 팀 미팅" 공식 일정 생성
        (대상: 전체 멤버, 채널 연동)
           ↓
멤버들 → 그룹 캘린더에서 일정 확인
        "참여합니다" 클릭
           ↓
개인 캘린더에 자동 동기화
모든 확정 일정을 한 곳에서 관리
```

## 관련 문서

- [개인 캘린더 시스템](personal-calendar-system.md) - 사용자 개인 일정 관리
- [장소 캘린더 시스템](place-calendar-system.md) - 장소 예약
- [캘린더 통합](calendar-integration.md) - 세 캘린더의 유기적 연동
- [캘린더 설계](../backend/calendar-core-design.md) - 기술 설계 결정사항
