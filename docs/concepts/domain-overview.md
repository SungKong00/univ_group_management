# 도메인 개요 (Domain Overview)

## 전체 시스템 아키텍처

```
사용자 (User)
├── Google OAuth 인증
├── 프로필 설정 (학과, 학번, 역할)
└── 자동 학과 그룹 가입

그룹 계층 (Group Hierarchy)
├── 대학교 (University) [대학 그룹]
│   ├── 하위 공식 그룹 (예: 총학생회, 교수회 등)
│   ├── 하위 자율 그룹 (예: 전체 동아리연합 등)
│   └── 단과대학 (College) [대학 그룹]
│       ├── 하위 공식 그룹 (예: 단과대 학생회 등)
│       ├── 하위 자율 그룹 (예: 단과대 동아리 등)
│       └── 학과/학부 (Department) [대학 그룹]
│           ├── 하위 공식 그룹 (예: 학과 학생회, 학회 등)
│           ├── 하위 자율 그룹 (예: 동아리, 스터디 그룹 등)
│           │   ├── 하위 공식 그룹 (예: 동아리 산하 팀 등)
│           │   └── 하위 자율 그룹 (예: 소모임 등)
│           └── ...

워크스페이스 구조 (Workspace Structure)
├── 그룹별 워크스페이스 (1:1 매핑)
│   ├── 채널 (ChannelRoleBinding 권한 기반)
│   │   ├── 일반 대화 [TEXT 타입]
│   │   ├── 공지사항 [ANNOUNCEMENT 타입]
│   │   └── 기타 채널 [TEXT/VOICE 타입]
│   └── 게시글/댓글 시스템
└── ...

모집 시스템 (Recruitment System)
├── 그룹별 모집 게시글 (그룹당 하나의 활성 모집)
│   ├── 모집 내용 및 질문
│   ├── 마감일 설정 (선택사항)
│   ├── 지원자 수 공개 설정
│   └── 조기 마감 기능
├── 지원서 관리
│   ├── 일반 유저의 그룹 가입 지원
│   ├── 지원서 상태 관리 (대기/승인/거부/철회)
│   └── 승인 시 자동 그룹 가입
└── 아카이브 시스템 (마감된 모집 이력 관리)
```

## 핵심 도메인 개체

### 사용자 (User)
- **Google OAuth**: 기본 인증 수단
- **프로필**: 이름, 닉네임, 학과, 학번
- **글로벌 역할**: STUDENT, PROFESSOR, ADMIN
- **학과 자동 가입**: 프로필 설정 시 해당 학과 그룹 자동 가입

### 그룹 (Group)
- **그룹 유형**:
  - **대학 그룹**: 대학교, 단과대학, 학과/학부 (기본 조직 구조)
  - **공식 그룹**: 대학 그룹 하위의 공인된 조직 (학생회, 학회 등)
  - **자율 그룹**: 대학 그룹 하위의 자율적 조직 (동아리, 스터디 등)
- **계층 구조**: 무제한 중첩 가능 (공식/자율 그룹은 하위에 또 공식/자율 그룹 생성 가능)
- **가시성**: PUBLIC, PRIVATE, INVITE_ONLY
- **생명주기**: 생성 → 승인 → 활성 → 삭제(30일 보관)
- **소유권**: 오너 1명, 양도 가능

### 워크스페이스 (Workspace)
- **1:1 매핑**: 각 그룹마다 워크스페이스 하나씩 자동 생성
- **고정 관계**: 그룹과 워크스페이스는 항상 1:1 관계 유지
- **채널 구조**: 워크스페이스 내 주제별 채널로 소통 공간 분리
- **추가 공간 필요시**: 새로운 그룹을 생성하여 별도 워크스페이스 확보

### 권한 시스템 (Permission System)
- **RBAC 기반**: 역할별 권한 할당
- **계층 상속**: 상위 그룹 권한이 하위로 전파

## 핵심 비즈니스 플로우

### 신입생 온보딩
1. Google OAuth 로그인
2. 프로필 설정 (학과, 학번 입력)
3. AI/SW 학부 자동 가입 (기본값)
4. 학과 내 그룹 탐색 및 가입

### 그룹 생성 및 관리
1. 그룹 생성 요청
2. 부모 그룹 관리자 승인
3. 워크스페이스 자동 생성
4. 멤버 초대 및 역할 관리

### 컨텐츠 생성 및 소통
1. 채널별 게시글 작성
2. 댓글을 통한 토론
3. 권한 기반 모더레이션
4. 공지사항 및 핀 기능

### 그룹 모집 및 가입
1. 모집 게시글 작성 (권한자)
2. 일반 유저의 그룹 가입 지원
3. 지원서 심사 및 승인/거부
4. 승인 시 자동 그룹 가입

## 주요 제약사항

### 비즈니스 규칙
- **그룹 오너**: 반드시 1명, 탈퇴 시 양도 필요
- **학과 가입**: 프로필 설정 시 1회 자동, 이후 변경 불가
- **그룹 삭제**: 30일 soft delete, 하위 그룹 재배치
- **권한 상속**: 상위 권한 > 역할 권한

### 기술적 제약
- **JWT 토큰**: 24시간 만료
- **파일 업로드**: 채널당 10MB 제한
- **동시 접속**: 그룹당 최대 100명
- **API 호출**: 사용자당 분당 60회 제한

## 관련 문서

### 상세 개념
- **그룹 계층**: [group-hierarchy.md](group-hierarchy.md)
- **권한 시스템**: [permission-system.md](permission-system.md)
- **워크스페이스**: [workspace-channel.md](workspace-channel.md)
- **모집 시스템**: [recruitment-system.md](recruitment-system.md)
- **사용자 라이프사이클**: [user-lifecycle.md](user-lifecycle.md)

### 구현 가이드
- **백엔드 아키텍처**: [../implementation/backend-guide.md](../implementation/backend-guide.md)
- **데이터베이스 설계**: [../implementation/database-reference.md](../implementation/database-reference.md)
- **API 참조**: [../implementation/api-reference.md](../implementation/api-reference.md)

### UI/UX 설계
- **디자인 시스템**: [../ui-ux/design-system.md](../ui-ux/design-system.md)
- **레이아웃 가이드**: [../ui-ux/layout-guide.md](../ui-ux/layout-guide.md)

## 개발 우선순위

### Phase 1 (MVP)
- 기본 인증 및 그룹 관리
- 워크스페이스 및 채널 시스템
- 게시글/댓글 기능
- 모집 시스템 (그룹 가입)

### Phase 2 (Enhanced)
- 실시간 알림
- 관리자 대시보드

### Phase 3 (Advanced)
- 파일 공유 시스템
- 고급 검색 및 필터링
- 분석 및 리포팅
