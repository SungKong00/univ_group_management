# 그룹 계층 구조 (Group Hierarchy)

## 대학 조직과 동일한 구조

우리 시스템은 실제 대학 조직 구조를 그대로 반영합니다. 사용자들이 이미 익숙한 구조이므로 직관적으로 이해하고 사용할 수 있습니다.

```
한신대학교
├── 총학생회
├── 교수회
├── 전체 동아리연합
├── AI/SW 대학
│   ├── AI/SW대학 학생회
│   ├── AI/SW대학 교수회
│   ├── AI/SW대학 동아리연합
│   └── AI/SW 학부
│       ├── AI/SW학부 학생회
│       ├── AI 학회
│       │   ├── AI 스터디팀 A
│       │   └── AI 연구팀
│       ├── 프로그래밍 동아리
│       │   ├── 웹개발팀
│       │   └── 앱개발팀
│       ├── 알고리즘 스터디
│       └── 졸업프로젝트팀 A
├── 공과대학
│   ├── 컴퓨터공학과
│   └── 전자공학과
└── 경영대학
    └── 경영학과
        ├── 경영학회
        └── 창업동아리
```

## 그룹의 3가지 유형

### 대학 그룹 - 공식 조직 구조
실제 대학의 공식 조직 구조를 그대로 반영합니다.

#### 대학교
- **최상위 조직**: 모든 그룹의 출발점
- **관리 주체**: 시스템 관리자가 관리
- **자동 설정**: 시스템 설치 시 자동으로 생성

#### 단과대학
- **학과 그룹핑**: 여러 학과를 묶는 중간 단위
- **예시**: AI/SW 대학, 공과대학, 경영대학

#### 학과/학부
- **기본 소속**: 모든 사용자가 반드시 소속되는 단위
- **자동 가입**: 프로필 설정 시 선택한 학과에 즉시 가입
- **기본 학과**: 미선택 시 AI/SW 학부로 자동 배정

### 공식 그룹 - 대학 공인 조직
대학이나 학과에서 공식적으로 인정한 조직들입니다.

- **공인된 지위**: 대학의 공식 승인을 받은 조직
- **엄격한 승인**: 상위 조직 관리자의 승인 필수
- **공식 지원**: 대학의 관리 감독과 지원을 받음
- **예시**: 학생회, 학회, 공인 동아리

### 자율 그룹 - 자유로운 모임
사용자들이 자발적으로 만드는 자유로운 조직들입니다.

- **자유로운 생성**: 누구나 쉽게 만들 수 있음
- **자율적 운영**: 그룹 오너가 자유롭게 운영
- **공개 모집**: 신규 멤버를 공개적으로 모집 가능
- **예시**: 취미 동아리, 스터디 그룹, 프로젝트 팀

## 그룹 간의 관계와 권한

### 원칙: 그룹 권한의 독립성
각 그룹의 권한은 완전히 독립적으로 운영됩니다. 한 그룹의 역할(예: 운영진)은 다른 그룹(상위, 하위, 또는 형제 그룹)에 아무런 영향을 미치지 않습니다. 'A 동아리'의 회장이 'B 동아리'에서는 일반 멤버일 뿐인 것처럼, 모든 권한은 해당 그룹 내에서만 유효합니다.

### 예외: 상위 그룹의 제한된 역할
현재 시스템에서 상위 그룹이 하위 그룹에 대해 갖는 유일한 권한은 다음과 같이 매우 제한적입니다.

1.  **하위 그룹 생성 승인**: 하위 그룹이 처음 만들어질 때, 상위 그룹의 관리자가 이 생성 요청을 '승인'하거나 '거부'할 수 있습니다. 이는 그룹의 무분별한 생성을 방지하고 조직 구조를 유지하기 위한 유일한 통제 장치입니다.

2.  **캘린더 정보의 제한적 참조 (예정)**: 향후 캘린더 기능이 구현될 때, 상위 그룹에서 전체 일정을 계획할 목적으로 하위 그룹의 캘린더 정보를 '참조'할 수 있는 기능이 추가될 예정입니다. 이는 읽기 전용의 제한된 접근이며, 하위 그룹의 일정을 수정하거나 관리하는 권한을 의미하지 않습니다.

위 두 가지 경우를 제외하고, 상위 그룹 관리자가 하위 그룹의 멤버, 역할, 채널, 설정 등을 직접 수정하거나 관리할 수 있는 '감독 권한'이나 '상속 권한'은 **존재하지 않습니다.**

## 새로운 그룹 만들기

### 그룹 생성 과정
누구나 새로운 그룹을 만들 수 있지만, 적절한 승인 과정을 거쳐야 합니다.

1. **그룹 생성 신청**: 그룹명, 설명, 공개 범위 등을 입력하여 신청
2. **승인 대기**: 상위 그룹 관리자가 승인 여부를 결정
3. **자동 설정**: 승인 시 워크스페이스와 기본 채널이 자동으로 생성
4. **운영 시작**: 신청자가 그룹 오너가 되어 운영 시작

### 자동으로 준비되는 것들
그룹이 승인되면 다음 항목들이 자동으로 준비됩니다:

- **전용 워크스페이스**: 그룹 전용 소통 공간
- **기본 채널**: 일반대화, 공지사항 채널
- **오너 권한**: 그룹 생성자에게 모든 관리 권한 부여
- **기본 역할**: 멤버 역할 템플릿 자동 적용

## 그룹 삭제와 복구

### 안전한 삭제 방식
그룹을 삭제해도 30일 동안은 복구할 수 있습니다.

- **임시 삭제**: 삭제 시 즉시 사라지지 않고 30일간 보관
- **완전 삭제**: 30일 후 자동으로 영구 삭제
- **복구 가능**: 30일 이내라면 모든 데이터와 함께 완전 복구

### 하위 그룹 처리
상위 그룹이 삭제되면 하위 그룹들의 처리 방법:

- **재배치**: 한 단계 위 그룹으로 이동 (조부모 그룹)
- **연쇄 삭제**: 관리자 설정에 따라 함께 삭제
- **고아 방지**: 적절한 상위 그룹이 없으면 최상위로 이동

## 신입생 자동 배정

### 학과 자동 가입
신규 사용자가 프로필을 설정하면 해당 학과 그룹에 자동으로 가입됩니다.

- **즉시 가입**: 학과 선택 시 바로 해당 학과 그룹 멤버가 됨
- **기본 학과**: 학과를 선택하지 않으면 "AI/SW 학부"에 자동 배정
- **자동 생성**: 해당 학과 그룹이 없으면 자동으로 생성
- **기본 역할**: 일반 멤버 역할로 시작

### 계층 자동 구성
필요시 상위 조직들도 자동으로 생성됩니다:

**예시**: AI/SW 학부 선택 시
1. 한신대학교 (최상위) 확인/생성
2. AI/SW 대학 (단과대학) 확인/생성
3. AI/SW 학부 (학과) 확인/생성
4. 사용자를 AI/SW 학부에 자동 가입

## 실제 활용 사례

### 동아리 만들기와 운영
**상황**: AI/SW 학부 학생이 프로그래밍 동아리를 만들고 싶음

1. **동아리 생성 신청**: "프로그래밍 동아리" 자율 그룹 생성 요청
2. **교수 승인**: AI/SW 학부 교수가 승인
3. **자동 설정**: 동아리 워크스페이스와 기본 채널 생성
4. **운영 시작**: 신청자가 동아리장이 되어 운영 시작
5. **멤버 모집**: 신입 모집 게시글 작성하여 멤버 확보
6. **팀 구성**: 필요시 "웹개발팀", "앱개발팀" 등 하위 그룹 생성

### 학회 조직과 연구팀 구성
**상황**: 교수가 공식 AI 학회를 만들고 연구팀을 조직하고 싶음

1. **학회 설립**: 교수가 "AI 학회" 공식 그룹 생성
2. **승인 완료**: 학과 차원에서 승인
3. **학회 운영**: 학회장 임명하여 학회 활동 시작
4. **연구팀 구성**: 학회 내 "AI 연구팀", "스터디팀" 등 하위 그룹 생성
5. **독립 운영**: 각 팀별로 전용 워크스페이스에서 활동

### 무제한 확장 구조
**상황**: 큰 조직에서 세분화된 팀 구성이 필요함

**계층 예시**:
- 프로그래밍 동아리 (메인 그룹)
  - 웹개발팀 (하위 그룹)
    - React 스터디 (하위의 하위 그룹)
    - Vue 스터디 (하위의 하위 그룹)
  - 앱개발팀 (하위 그룹)
    - Flutter 스터디 (하위의 하위 그룹)

각 계층마다 독립적인 워크스페이스와 권한 체계를 가져 효율적인 관리가 가능합니다.

## 더 자세히 알아보기

그룹 계층과 관련된 다른 기능들을 더 알고 싶다면:

- **권한과 역할**: [permission-system.md](permission-system.md) - 그룹 내 권한 관리 방법
- **소통 공간**: [workspace-channel.md](workspace-channel.md) - 그룹별 워크스페이스 활용
- **사용자 여정**: [user-lifecycle.md](user-lifecycle.md) - 가입부터 그룹 활동까지
- **멤버 모집**: [recruitment-system.md](recruitment-system.md) - 그룹 신규 멤버 모집 방법
