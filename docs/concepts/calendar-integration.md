# 캘린더 통합 시스템 (Calendar Integration)

개인 캘린더, 그룹 캘린더, 장소 캘린더 세 가지가 유기적으로 연동되는 방식을 설명합니다.

## 개요

대학 구성원의 **학업, 개인, 그룹 활동**을 효율적으로 관리하기 위해 세 캘린더가 통합됩니다.

## 세 캘린더의 역할

### 개인 캘린더 (Personal Calendar)
- **시간표**: 고정된 주간 스케줄 (강의, 정기 회의)
- **캘린더**: 모든 일정을 월/주/일 뷰로 통합 관리

### 그룹 캘린더 (Group Calendar)
- 그룹의 모든 멤버가 공유하는 일정
- 공식 일정(공지형, 대상 지정형, RSVP형) + 비공식 일정

### 장소 캘린더 (Place Calendar)
- 그룹이 관리하는 장소의 예약 현황
- 모든 사용자에게 공개

## 통합 흐름

### 1️⃣ 시간표 데이터 활용

개인 캘린더의 **시간표**에 등록된 정보가:
```
개인 캘린더 (시간표)
  ↓ (분석 데이터로 활용)
그룹 캘린더 (최적 시간 추천)
  ↓ (참석 불가능 시간 제외)
최적의 참여 시간대 제시
```

### 2️⃣ 일정 동기화

그룹 캘린더에서 개인 캘린더로:
```
그룹 캘린더
  ├─ 일정 초대 받음
  └─ "참여합니다" 클릭
       ↓
개인 캘린더
  └─ 해당 일정 자동 표시
       ↓
사용자는 한곳에서 모든 약속 확인
```

### 3️⃣ 장소 예약 통합

그룹 일정 생성 시 장소 예약:
```
그룹 캘린더에서 일정 생성
  ├─ 일정 정보 입력 (시간, 대상자)
  └─ 장소 선택 (선택사항)
       ↓
장소 캘린더
  └─ 해당 시간에 예약 표시
       ↓
모든 사용자가 장소 예약 현황 조회 가능
```

## 실제 사용 시나리오

### 시나리오: 학과 워크샵 개최

**1단계: 시간표 확인**
- 운영진이 그룹 캘린더에서 일정 생성
- "최적 시간 추천" 클릭
- 시스템이 모든 멤버의 시간표 분석
- 가장 많은 멤버가 참석 가능한 시간대 제시 (예: 11월 20일 15:00-17:00)

**2단계: 일정 생성**
- 추천된 시간에 "워크샵" 공식 일정 생성
- 전체 멤버 대상 지정
- 행사장(강의실 203) 선택
- 채널 선택하여 공지

**3단계: 멤버 확인**
- 그룹 캘린더에서 "워크샵" 일정 확인
- "참여합니다" 클릭

**4단계: 자동 동기화**
- 개인 캘린더 11월 20일에 "워크샵" 자동 표시
- 사용자는 개인 캘린더에서 모든 확정 일정 확인

**5단계: 장소 현황 조회**
- 다른 사용자들이 "강의실 203" 장소 캘린더 조회
- 11월 20일 15:00-17:00이 예약된 것 확인
- 다른 시간대 예약 가능

## 권한 정리

| 기능 | 필요 권한 |
|------|---------|
| 개인 시간표/캘린더 관리 | (없음) - 본인만 |
| 그룹 캘린더 조회 | (없음) - 모든 그룹 멤버 |
| 그룹 일정 생성 | `CALENDAR_MANAGE` (공식) / 멤버 (비공식) |
| 그룹 일정 수정/삭제 | `CALENDAR_MANAGE` 또는 작성자 |
| 장소 등록/관리 | `CALENDAR_MANAGE` |
| 장소 예약 | (없음) - APPROVED 상태 + 멤버 |

## 데이터 흐름 다이어그램

```
사용자
├─ 개인 시간표 입력
│  └─ 강의, 정기 회의 등록
│
├─ 그룹 캘린더 참여
│  ├─ 최적 시간 추천 (시간표 기반)
│  ├─ 일정 참여 의사 표시
│  └─ 개인 캘린더에 자동 동기화
│
└─ 장소 예약 (일정 생성 시)
   ├─ 장소 캘린더 등록
   └─ 모든 사용자가 조회 가능
```

## 핵심 특징

✅ **통합성**: 세 캘린더가 유기적으로 연동
✅ **자동화**: 참여 의사 표시 시 개인 캘린더 자동 동기화
✅ **편의성**: 최적 시간 추천으로 일정 조율 간편화
✅ **투명성**: 장소 예약 현황 공개 조회
✅ **권한 단순화**: `CALENDAR_MANAGE` 1개로 모든 캘린더 관리

## 관련 문서

- [개인 캘린더 시스템](personal-calendar-system.md)
- [그룹 캘린더 시스템](group-calendar-system.md)
- [장소 캘린더 시스템](place-calendar-system.md)
- [캘린더 설계](../backend/calendar-core-design.md) - 기술 설계 결정사항
- [캘린더 통합 로드맵](../features/calendar-integration-roadmap.md) - 개발 일정
