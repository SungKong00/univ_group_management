### **사용자 프로필 및 계정 관리 (v2.0 - 설계 확정)**

> **🔵 구현 상태:** 일부 구현 (백엔드 구현 필요)
> **📅 최종 업데이트:** 2025-09-19

**1. '내 정보' 화면 구성**

- **접근:** 서비스 내 '마이페이지' 아이콘을 통해 진입.
- **메뉴 목록:** 내가 속한 그룹, 신청 현황, 로그인 정보, 로그아웃, 서비스 탈퇴.

**2. 핵심 기능별 상세 흐름**

- **2.1. 프로필 수정:** 프로필 사진, 닉네임, 한 줄 소개 수정.
- **2.2. 로그인 정보:** 현재 연결된 소셜 로그인 정보 확인.
- **2.3. 서비스 탈퇴:**
    - **흐름:** `[서비스 탈퇴]` 버튼 클릭 시, 바텀 시트(Bottom Sheet)를 통해 탈퇴 시 발생하는 결과(**작성한 게시물은 익명화 처리** 등)를 명확하게 안내 후, 최종 확인을 거쳐 탈퇴를 완료합니다.

**3. 확정된 정책**

- **닉네임 정책:** 중복 불가.
- **프로필 공개 정책:** MVP에서는 모두에게 공개.
- **계정 삭제 시 데이터 처리 정책:** 사용자가 작성했던 메시지와 댓글은 **삭제하지 않고 '(알 수 없는 사용자)' 등으로 익명화 처리**합니다.

---

### 4. API 명세 (설계 확정안)

| 기능 | HTTP Method | URI | 설명 |
| --- | --- | --- | --- |
| 내 정보 조회 | `GET` | `/api/me` | 현재 로그인한 사용자의 프로필, 그룹, 신청 현황 등 요약 정보를 반환합니다. (`/api/users/me`와 동일) |
| 프로필 수정 | `PATCH` | `/api/users/profile` | 사용자 프로필(사진, 닉네임, 한 줄 소개)의 일부를 수정합니다.<br>**(📝 개발 TODO: 현재 코드는 `PUT`으로 되어있으나, `PATCH`가 더 올바른 설계이므로 코드 수정 필요)** |
| 닉네임 중복 확인 | `GET` | `/api/users/nickname-check?nickname={nickname}` | 닉네임 중복 여부를 확인합니다. |
| 로그아웃 | `POST` | `/api/auth/logout` | 현재 세션을 종료하고 로그아웃 처리합니다. |
| 로그인 정보 조회 | `GET` | `/api/me/login` | **❌ 미구현.** 현재 연결된 소셜 로그인 정보와 마지막 로그인 시각을 반환합니다. |
| 서비스 탈퇴 | `DELETE` | `/api/me` | **❌ 미구현.** 사용자 계정을 비활성화하고 관련 데이터를 익명화 처리합니다. |

### 5. DTO (Data Transfer Object) 정의

- **MyProfileResponse**: `{ profile, groupsCount, lastApplication }`
- **UpdateProfileRequest (`PATCH`용)**: `{ avatarUrl: String?, nickname: String?, bio: String? }` (수정할 필드만 전송)
- **CheckNicknameResponse**: `{ isAvailable: Boolean }`
- **LoginInfoResponse**: `{ providers: List<String>, lastLoginAt: DateTime }`
