1. 권한 시스템 기본 구조
권한 부여 방식: 모든 권한은 '역할(Role)' 단위로 관리됩니다. 그룹장은 커스텀 역할을 생성하고, 역할에 권한을 부여한 뒤, 멤버에게 해당 역할을 지정하는 3단계 방식을 따릅니다. 개인별 권한 수정 기능은 MVP에서 제외합니다.
2. 고정 역할 정책
2.1. 최상위 '그룹장'
특징: 한 그룹에 반드시 한 명만 존재하는 최상위 역할입니다.
권한: 서비스의 모든 기능에 대한 권한을 가지며, 이 권한은 수정 및 편집이 불가능합니다.
고유 권한: 아래 항목은 다른 역할에 위임할 수 없는, 그룹장만의 고유 권한입니다.
그룹 정보 수정 (이름, 소개 등)
그룹 삭제
2.2. 기본 '일반 멤버'
특징: 그룹 가입 시 모든 멤버에게 기본적으로 부여되는 역할입니다.
기본 권한:
자신이 열람 가능한 채널의 게시글 조회 및 댓글 작성
자신이 작성 가능한 채널에 게시글 작성
3. MVP 커스텀 역할 권한 목록
그룹장이 커스텀 역할(예: 스태프)을 생성할 때, 아래의 권한들을 자유롭게 조합하여 부여할 수 있습니다.
[모집 관리]
① 모집 관리: 그룹 가입 신청을 승인/반려하고, 그룹의 모집 공고를 작성/수정/마감할 수 있는 통합 권한
[멤버 관리]
② 멤버 관리: 멤버의 역할을 변경하거나 그룹에서 강제 탈퇴시킬 수 있는 권한
[채널 관리]
③ 채널 관리: 워크스페이스 내 채널을 생성, 설정 수정, 삭제하고, 타인의 게시글/댓글을 관리(삭제 등)할 수 있는 통합 권한
4. 멤버 관리 화면 및 기능 명세
위치: 관리자 페이지 > '멤버 관리' 탭
하위 탭: '멤버 관리' 탭은 ① 현재 멤버와 ② 가입 대기, 두 개의 하위 탭으로 구성됩니다.
4.1. '현재 멤버' 탭
표시 정보: 상단에 총 멤버 수와 닉네임 검색 바를 제공하며, 멤버 목록은 [프로필 정보], [역할], [가입일], [관리] 항목으로 구성됩니다.
핵심 기능:
역할 변경: 멤버 목록의 [역할] 부분을 클릭하면 역할 목록이 드롭다운(Dropdown) 형태로 나타나며, 선택 시 즉시 역할이 변경됩니다.
강제 탈퇴: [관리] 항목의 …(더보기) 메뉴에서 **'강제 탈퇴'**를 선택하여 멤버를 제외시킵니다.
그룹장 위임: 그룹장 자신의 …(더보기) 메뉴에는 '강제 탈퇴' 대신 **'그룹장 위임'**이 표시됩니다.
4.2. '가입 대기' 탭
표시 정보: 가입 신청자의 프로필 정보, 신청일과 함께 [거절], [승인] 버튼이 표시됩니다.
핵심 기능:
승인: '승인' 시 신청자는 '일반 멤버'로 즉시 그룹에 가입됩니다.
거절: '거절' 시 사유 입력 팝업을 거쳐 신청을 최종 반려합니다.
5. 정책 및 규칙
자신 역할 변경 불가: 사용자는 관리 화면에서 자신의 역할을 변경할 수 없습니다. (UI상 비활성화 처리)
그룹장 역할 UI: 그룹장 자신의 [역할] 항목은 클릭이 불가능한 상태로 표시됩니다.
역할 삭제 시 처리: 그룹장이 특정 커스텀 역할을 삭제할 경우, 해당 역할을 가졌던 모든 멤버는 '일반 멤버'로 자동 변경됩니다.
6. 채널 시스템 연동
그룹 생성 시, 공지채널(그룹장만 작성)과 자유채널(모두 작성)이 기본으로 생성됩니다.
'채널 관리' 권한을 가진 멤버는 채널을 추가로 생성하고, 각 채널별로 '열람 가능 역할'과 '작성 가능 역할'을 설정할 수 있습니다.
7. MVP 제외 범위
일정 관리 기능
멤버별 개별 권한 수정 기능
'최근 접속일' 등 추가 멤버 정보 표시
여러 멤버를 동시 선택하여 관리하는 대량 관리 기능
멤버 프로필 클릭 시 개인 프로필 페이지로 이동하는 기능


8. API 명세 (v1.3 기준, 그룹 워크스페이스와 통합)

| 기능 | HTTP Method | URI | Request Body | Response Body | 설명 |
| --- | --- | --- | --- | --- | --- |
| **멤버 목록 조회** | **GET** | **/groups/{groupId}/members?status=approved\|pending** | | `List<MemberDto>` | 그룹의 멤버 목록을 상태(현재 멤버/가입 대기자)에 따라 조회합니다. |
| **가입 승인/반려** | **POST** | **/groups/{groupId}/members/{userId}/decision** | `DecisionRequest` | (204 No Content) | 가입 신청을 승인 또는 반려합니다. |
| **멤버 역할 변경** | **PATCH** | **/groups/{groupId}/members/{userId}/role** | `UpdateRoleRequest` | (204 No Content) | 멤버의 역할을 변경합니다. |
| **멤버 강제 탈퇴** | **DELETE** | **/groups/{groupId}/members/{userId}** | | (204 No Content) | 멤버를 그룹에서 강제 탈퇴시킵니다. |
| **그룹장 위임** | **PATCH** | **/groups/{groupId}/leader** | `DelegateLeaderRequest` | (204 No Content) | 그룹장 권한을 다른 멤버에게 위임합니다. |
| **역할 목록 조회** | **GET** | **/groups/{groupId}/roles** | | `List<RoleDto>` | 그룹 내 모든 역할 목록을 조회합니다. |
| **역할 생성** | **POST** | **/groups/{groupId}/roles** | `CreateRoleRequest` | `RoleDto` | 새로운 커스텀 역할을 생성합니다. |
| **역할 수정** | **PATCH** | **/groups/{groupId}/roles/{roleId}** | `UpdateRoleRequest` | `RoleDto` | 역할의 이름 또는 권한을 수정합니다. |
| **역할 삭제** | **DELETE** | **/groups/{groupId}/roles/{roleId}** | | (204 No Content) | 역할을 삭제합니다. (해당 역할 멤버는 일반 멤버로 변경) |

9. DTO (Data Transfer Object) 정의

- **MemberDto**: `{ userId, nickname, profileImageUrl, role, joinedAt }`
- **DecisionRequest**: `{ approve: Boolean, reason: String }`
- **UpdateRoleRequest**: `{ roleId: Long }`
- **DelegateLeaderRequest**: `{ newLeaderId: Long }`
- **RoleDto**: `{ roleId, roleName, permissions: List<String> }` (e.g., ["MANAGE_RECRUITMENT", "MANAGE_MEMBERS"])
- **CreateRoleRequest / UpdateRoleRequest**: `{ roleName, permissions: List<String> }`