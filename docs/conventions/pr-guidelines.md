# Pull Request 가이드라인 (PR Guidelines)

## PR 생성 원칙

### 크기와 범위
- **하나의 PR은 하나의 기능/수정사항**에 집중
- **최대 400줄 변경** 권장 (리뷰 효율성)
- 큰 기능은 **여러 PR로 분할**하여 진행

### 브랜치 전략
- `main` 브랜치로만 PR 생성
- [GitHub Flow](git-strategy.md) 전략 준수
- 최신 `main`에서 브랜치 생성

## PR 제목 규칙

### 형식
```
[타입] 간결한 설명
```

### 예시
```bash
[feat] 사용자 인증 시스템 구현
[fix] 로그인 페이지 모바일 반응형 오류 수정
[docs] API 레퍼런스 문서 추가
[refactor] 그룹 서비스 레이어 구조 개선
```

### 타입별 분류
- **[feat]**: 새로운 기능 추가
- **[fix]**: 버그 수정
- **[docs]**: 문서 관련 변경
- **[style]**: 코드 스타일, 포맷팅
- **[refactor]**: 리팩토링
- **[test]**: 테스트 추가/수정
- **[chore]**: 빌드, 설정 등 기타 작업

## PR 설명 템플릿

### 기본 구조
```markdown
## 📋 변경 사항 요약
<!-- 무엇을 변경했는지 간결하게 설명 -->

## 🎯 변경 이유
<!-- 왜 이 변경이 필요한지 설명 -->

## 🔧 구현 세부사항
<!-- 어떻게 구현했는지 주요 로직 설명 -->

## 📸 스크린샷 (UI 변경 시)
<!-- UI 변경사항이 있다면 Before/After 스크린샷 -->

## ✅ 테스트 방법
<!-- 이 변경사항을 어떻게 테스트할 수 있는지 -->

## 📚 관련 문서 업데이트
<!-- 업데이트된 문서나 필요한 문서 작업 -->

## 🔗 관련 이슈
<!-- 관련된 이슈 번호 연결 -->
Closes #123
```

### 예시 1: 기능 추가
```markdown
## 📋 변경 사항 요약
사용자가 그룹에 멤버를 초대할 수 있는 기능을 추가했습니다.

## 🎯 변경 이유
그룹 관리자가 새로운 멤버를 쉽게 초대할 수 있도록 하여 그룹 관리의 편의성을 향상시키기 위해서입니다.

## 🔧 구현 세부사항
- 백엔드: `/api/groups/{id}/invite` POST 엔드포인트 추가
- 프론트엔드: 그룹 설정 페이지에 멤버 초대 폼 구현
- 이메일 발송 로직 추가 (초대 링크 포함)
- 권한 체크: 그룹 관리자만 초대 가능

## 📸 스크린샷
![초대 버튼](./images/invite-button.png)
![초대 폼](./images/invite-form.png)

## ✅ 테스트 방법
1. 그룹 관리자로 로그인
2. 그룹 설정 페이지 이동
3. "멤버 초대" 버튼 클릭
4. 이메일 주소 입력 후 초대 전송
5. 초대 이메일 수신 확인

## 📚 관련 문서 업데이트
- [x] API 문서에 새 엔드포인트 추가
- [x] 사용자 가이드에 초대 방법 설명 추가

## 🔗 관련 이슈
Closes #45
Related to #67
```

### 예시 2: 버그 수정
```markdown
## 📋 변경 사항 요약
모바일에서 네비게이션 메뉴가 제대로 표시되지 않는 문제를 수정했습니다.

## 🎯 변경 이유
모바일 사용자들이 메뉴에 접근할 수 없어 앱 사용에 큰 불편을 겪고 있었습니다.

## 🔧 구현 세부사항
- CSS 미디어 쿼리 수정: `@media (max-width: 768px)` 조건 변경
- 햄버거 메뉴 버튼 z-index 값 조정
- 터치 이벤트 핸들링 개선

## ✅ 테스트 방법
1. 모바일 디바이스 또는 브라우저 개발자 도구로 모바일 뷰 확인
2. 햄버거 메뉴 버튼 클릭
3. 메뉴가 올바르게 표시되는지 확인
4. 메뉴 항목 클릭이 정상 작동하는지 확인

## 🔗 관련 이슈
Fixes #89
```

## PR 체크리스트

### 제출 전 확인사항
- [ ] 로컬에서 빌드가 성공하는가?
- [ ] 모든 테스트가 통과하는가?
- [ ] 린터/포맷터 규칙을 준수하는가?
- [ ] 커밋 메시지가 [컨벤션](commit-conventions.md)을 따르는가?
- [ ] 관련 문서가 업데이트되었는가?
- [ ] 컨텍스트 파일 동기화가 필요한가?

### 코드 품질
- [ ] 코드가 읽기 쉽고 이해하기 쉬운가?
- [ ] 적절한 주석이 작성되었는가?
- [ ] 에러 처리가 적절히 구현되었는가?
- [ ] 보안상 문제가 없는가?
- [ ] 성능상 문제가 없는가?

### 테스트 관련
- [ ] 새로운 기능에 대한 테스트가 추가되었는가?
- [ ] 기존 테스트가 여전히 통과하는가?
- [ ] 엣지 케이스에 대한 처리가 있는가?

## 리뷰어 가이드라인

### 리뷰 요청
- **최소 1명 이상**의 리뷰어 지정
- 해당 영역의 **전문가** 포함
- 코드 **오너** 포함 (가능한 경우)

### 리뷰 기준
- **기능성**: 요구사항을 올바르게 구현했는가?
- **코드 품질**: 읽기 쉽고 유지보수하기 쉬운가?
- **성능**: 성능상 문제가 없는가?
- **보안**: 보안 취약점이 없는가?
- **테스트**: 적절한 테스트가 포함되었는가?

### 리뷰 응답 시간
- **24시간 이내** 첫 리뷰 완료
- **긴급한 수정**: 4시간 이내
- **복잡한 변경**: 48시간 이내

## 머지 정책

### 머지 조건
- [ ] **최소 1명** 이상 승인
- [ ] **모든 CI 검사** 통과
- [ ] **컨플릭트 해결** 완료
- [ ] **최신 main 브랜치**와 동기화

### 머지 방법
- **Squash and Merge** 사용 (기본)
- 커밋 히스토리 정리를 위해 스쿼시 권장
- 중요한 히스토리는 Merge Commit 고려

### 머지 후 작업
- 브랜치 **자동 삭제** 설정
- 관련 이슈 **자동 닫기**
- 배포 **자동 트리거** (설정된 경우)

## 특별한 PR 유형

### Draft PR
```markdown
[Draft] 실험적 기능 구현 중

아직 완료되지 않은 작업이지만 피드백을 받기 위해 올립니다.
```

### Hotfix PR
```markdown
[Hotfix] 중요한 보안 취약점 수정

긴급하게 수정이 필요한 보안 문제를 해결했습니다.
즉시 리뷰 및 머지 요청드립니다.
```

### Breaking Change PR
```markdown
[feat] API 응답 형식 변경 (Breaking Change)

⚠️ BREAKING CHANGE: 기존 API와 호환되지 않습니다.
프론트엔드 코드 수정이 필요합니다.
```

## 자동화

### GitHub Actions 연동
- 빌드 자동 실행
- 테스트 자동 실행
- 코드 품질 검사
- 보안 스캔

### 봇 활용
- 의존성 업데이트 자동 PR
- 코드 리뷰 자동 제안
- 라벨 자동 분류

## 트러블슈팅

### 일반적인 문제

#### CI 실패
1. 로컬에서 테스트 실행 확인
2. 의존성 버전 확인
3. 환경 변수 설정 확인

#### 컨플릭트 발생
```bash
# main 브랜치 최신 상태로 업데이트
git checkout main
git pull origin main

# 작업 브랜치에서 리베이스
git checkout feature/my-feature
git rebase main

# 컨플릭트 해결 후
git add .
git rebase --continue
git push --force-with-lease origin feature/my-feature
```

#### 리뷰 지연
- 리뷰어에게 직접 연락
- 더 작은 단위로 PR 분할
- 우선순위 표시 (라벨 활용)

## 관련 문서

- **Git 전략**: [git-strategy.md](git-strategy.md)
- **커밋 컨벤션**: [commit-conventions.md](commit-conventions.md)
- **코드 리뷰 기준**: [code-review-standards.md](code-review-standards.md)
- **개발 워크플로우**: [../workflows/development-flow.md](../workflows/development-flow.md)